"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5299],{5299:(T,_,r)=>{r.r(_),r.d(_,{ImageReconstructorComponent:()=>y});var C=r(89),p=r(8207),e=r(5095),a=r(4121),g=r(2147),h=r(3291),I=r(8168);const w=["file"];let v=(()=>{class o{get srcImage(){return this._srcImage.getValue()}set srcImage(t){this._srcImage.getValue()!==t&&this._srcImage.next(t)}constructor(){this._srcImage=new a.X(""),this.srcImage$=this._srcImage.asObservable().pipe((0,g.x)(),(0,h.d)({bufferSize:1,refCount:!0})),this.file=null,this.srcImageChange=new e.vpe}ngOnInit(){this._srcImage.pipe((0,I.b)(t=>{if(t){const n=new Image;n.onload=()=>{this.srcImageChange.emit(n)},n.src=t}})).subscribe()}pictureUpload(t){const n=t.target.files[0],s=new FileReader;s.onloadend=i=>{(new Image).src=i.target.result,this._srcImage.next(i.target.result)},s.readAsDataURL(n)}ngOnDestroy(){this._srcImage.complete(),this._srcImage.unsubscribe()}clickFileUpload(){var t;null===(t=this.file)||void 0===t||t.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-image-uploder"]],viewQuery:function(t,n){if(1&t&&e.Gf(w,7),2&t){let s;e.iGM(s=e.CRH())&&(n.file=s.first)}},outputs:{srcImageChange:"srcImageChange"},standalone:!0,features:[e.jDz],decls:4,vars:0,consts:[["hidden","","accept",".jpg,.jpeg","type","file",3,"change"],["file",""],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"input",0,1),e.NdJ("change",function(i){return n.pictureUpload(i)}),e.qZA(),e.TgZ(2,"ion-button",2),e.NdJ("click",function(){return n.clickFileUpload()}),e._uU(3,"Upload File "),e.qZA())},dependencies:[p.Pc,p.YG,C.ez]}),o})();var b=r(4401),x=r(5696),u=r(6284);const U=["canv"];let y=(()=>{class o{get dx(){return this._dx.getValue()}set dx(t){this._dx.getValue()!==t&&this._dx.next(t)}get dy(){return this._dy.getValue()}set dy(t){this._dy.getValue()!==t&&this._dy.next(t)}get dw(){return this._dw.getValue()}set dw(t){this._dw.getValue()!==t&&this._dw.next(t)}get dh(){return this._dh.getValue()}set dh(t){this._dh.getValue()!==t&&this._dh.next(t)}get img(){return this._img.getValue()}get height(){return this._height.getValue()}set height(t){this._height.getValue()!==t&&this._height.next(t)}get width(){return this._width.getValue()}set width(t){this._width.getValue()!==t&&this._width.next(t)}set img(t){this._img.getValue()!==t&&this._img.next(t)}constructor(){this._dx=new a.X(0),this.dx$=this._dx.asObservable().pipe((0,g.x)(),(0,h.d)({bufferSize:1,refCount:!0})),this._dy=new a.X(0),this.dy$=this._dy.asObservable().pipe((0,g.x)(),(0,h.d)({bufferSize:1,refCount:!0})),this._dw=new a.X(0),this.dw$=this._dw.asObservable().pipe((0,g.x)(),(0,h.d)({bufferSize:1,refCount:!0})),this._dh=new a.X(0),this.dh$=this._dh.asObservable().pipe((0,g.x)(),(0,h.d)({bufferSize:1,refCount:!0})),this._img=new a.X(null),this.img$=this._img.asObservable().pipe((0,g.x)(),(0,h.d)({bufferSize:1,refCount:!0})),this._height=new a.X(0),this.height$=this._height.asObservable().pipe((0,g.x)(),(0,h.d)({bufferSize:1,refCount:!0})),this._width=new a.X(0),this.width$=this._width.asObservable().pipe((0,g.x)(),(0,h.d)({bufferSize:1,refCount:!0})),this.canv=null}ngOnInit(){(0,x.a)([this._img,this._dx,this._dy,this._dw,this._dh,this._height,this._width]).pipe((0,I.b)(([t,n,s,i,c,Z,M])=>{if(this.canv&&t){const m=this.canv.nativeElement,l=m.getContext("2d"),f=new Image;f.addEventListener("load",()=>{null==l||l.clearRect(0,0,m.width,m.height),null==l||l.drawImage(f,0,0,M,Z,n,s,i,c)}),f.src=t.src}})).subscribe()}srcImageChange(t){this._img.next(t)}changeColor(t){const n=[];let s=Array.from(t);for(let i=0;i<s.length;i++)s[i]>50&&s[i]<100&&(s[i]=s[i]/255),n.push(s[i]);return b.yXz(t,[1,223,223,3])}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-image-reconstructor"]],viewQuery:function(t,n){if(1&t&&e.Gf(U,5),2&t){let s;e.iGM(s=e.CRH())&&(n.canv=s.first)}},standalone:!0,features:[e._Bn([]),e.jDz],decls:21,vars:12,consts:[[2,"border","solid 1px"],["canv",""],[3,"srcImageChange"],["step","1","min","0","max","500","type","range",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e._UZ(0,"canvas",0,1),e.TgZ(2,"app-image-uploder",2),e.NdJ("srcImageChange",function(i){return n.srcImageChange(i)}),e.qZA(),e._UZ(3,"br"),e._uU(4),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(i){return n.width=i}),e.qZA(),e._UZ(6,"br"),e._uU(7),e.TgZ(8,"input",3),e.NdJ("ngModelChange",function(i){return n.height=i}),e.qZA(),e._UZ(9,"br"),e._uU(10),e.TgZ(11,"input",3),e.NdJ("ngModelChange",function(i){return n.dx=i}),e.qZA(),e._UZ(12,"br"),e._uU(13),e.TgZ(14,"input",3),e.NdJ("ngModelChange",function(i){return n.dy=i}),e.qZA(),e._UZ(15,"br"),e._uU(16),e.TgZ(17,"input",3),e.NdJ("ngModelChange",function(i){return n.dw=i}),e.qZA(),e._UZ(18,"br"),e._uU(19),e.TgZ(20,"input",3),e.NdJ("ngModelChange",function(i){return n.dh=i}),e.qZA()),2&t&&(e.xp6(4),e.hij("width",n.width,"\n"),e.xp6(1),e.Q6J("ngModel",n.width),e.xp6(2),e.hij("height",n.height,"\n"),e.xp6(1),e.Q6J("ngModel",n.height),e.xp6(2),e.hij("dx",n.dx,"\n"),e.xp6(1),e.Q6J("ngModel",n.dx),e.xp6(2),e.hij("dy",n.dy,"\n"),e.xp6(1),e.Q6J("ngModel",n.dy),e.xp6(2),e.hij("dw",n.dw,"\n"),e.xp6(1),e.Q6J("ngModel",n.dw),e.xp6(2),e.hij("dh",n.dh,"\n"),e.xp6(1),e.Q6J("ngModel",n.dh))},dependencies:[p.Pc,C.ez,v,u.u5,u.Fj,u.eT,u.JJ,u.On]}),o})()}}]);