"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3021],{3291:(y,f,r)=>{r.d(f,{d:()=>l});var C=r(8023);const c={now:()=>(c.delegate||Date).now(),delegate:void 0};class M extends C.x{constructor(h=1/0,_=1/0,i=c){super(),this._bufferSize=h,this._windowTime=_,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=_===1/0,this._bufferSize=Math.max(1,h),this._windowTime=Math.max(1,_)}next(h){const{isStopped:_,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:e,_windowTime:p}=this;_||(i.push(h),!a&&i.push(e.now()+p)),this._trimBuffer(),super.next(h)}_subscribe(h){this._throwIfClosed(),this._trimBuffer();const _=this._innerSubscribe(h),{_infiniteTimeWindow:i,_buffer:a}=this,e=a.slice();for(let p=0;p<e.length&&!h.closed;p+=i?1:2)h.next(e[p]);return this._checkFinalizedStatuses(h),_}_trimBuffer(){const{_bufferSize:h,_timestampProvider:_,_buffer:i,_infiniteTimeWindow:a}=this,e=(a?1:2)*h;if(h<1/0&&e<i.length&&i.splice(0,i.length-e),!a){const p=_.now();let m=0;for(let u=1;u<i.length&&i[u]<=p;u+=2)m=u;m&&i.splice(0,m+1)}}}var g=r(815);function l(d,h,_){let i,a=!1;return d&&"object"==typeof d?({bufferSize:i=1/0,windowTime:h=1/0,refCount:a=!1,scheduler:_}=d):i=d??1/0,(0,g.B)({connector:()=>new M(i,h,_),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}},3021:(y,f,r)=>{r.r(f),r.d(f,{ImageReconstructorComponent:()=>m});var C=r(89),c=r(8207),M=r(334),g=r(4121),l=r(2147),d=r(3291),h=r(5696),_=r(8168),i=r(6284),a=r(3584),e=r(5095);const p=["canv"];let m=(()=>{class u{get dx(){return this._dx.getValue()}set dx(t){this._dx.getValue()!==t&&this._dx.next(t)}get dy(){return this._dy.getValue()}set dy(t){this._dy.getValue()!==t&&this._dy.next(t)}get dw(){return this._dw.getValue()}set dw(t){this._dw.getValue()!==t&&this._dw.next(t)}get dh(){return this._dh.getValue()}set dh(t){this._dh.getValue()!==t&&this._dh.next(t)}get img(){return this._img.getValue()}get height(){return this._height.getValue()}set height(t){this._height.getValue()!==t&&this._height.next(t)}get width(){return this._width.getValue()}set width(t){this._width.getValue()!==t&&this._width.next(t)}set img(t){this._img.getValue()!==t&&this._img.next(t)}constructor(){this._dx=new g.X(0),this.dx$=this._dx.asObservable().pipe((0,l.x)(),(0,d.d)({bufferSize:1,refCount:!0})),this._dy=new g.X(0),this.dy$=this._dy.asObservable().pipe((0,l.x)(),(0,d.d)({bufferSize:1,refCount:!0})),this._dw=new g.X(0),this.dw$=this._dw.asObservable().pipe((0,l.x)(),(0,d.d)({bufferSize:1,refCount:!0})),this._dh=new g.X(0),this.dh$=this._dh.asObservable().pipe((0,l.x)(),(0,d.d)({bufferSize:1,refCount:!0})),this._img=new g.X(null),this.img$=this._img.asObservable().pipe((0,l.x)(),(0,d.d)({bufferSize:1,refCount:!0})),this._height=new g.X(0),this.height$=this._height.asObservable().pipe((0,l.x)(),(0,d.d)({bufferSize:1,refCount:!0})),this._width=new g.X(0),this.width$=this._width.asObservable().pipe((0,l.x)(),(0,d.d)({bufferSize:1,refCount:!0})),this.canv=null}ngOnInit(){(0,h.a)([this._img,this._dx,this._dy,this._dw,this._dh,this._height,this._width]).pipe((0,_.b)(([t,n,o,s,O,T,b])=>{if(this.canv&&t){const x=this.canv.nativeElement,I=x.getContext("2d"),E=new Image;E.addEventListener("load",()=>{I?.clearRect(0,0,x.width,x.height),I?.drawImage(E,0,0,b,T,n,o,s,O)}),E.src=t.src}})).subscribe()}srcImageChange(t){}changeColor(t){const n=[];let o=Array.from(t);for(let s=0;s<o.length;s++)o[s]>50&&o[s]<100&&(o[s]=o[s]/255),n.push(o[s]);return M.yXz(t,[1,223,223,3])}}return u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-image-reconstructor"]],viewQuery:function(t,n){if(1&t&&e.Gf(p,5),2&t){let o;e.iGM(o=e.CRH())&&(n.canv=o.first)}},standalone:!0,features:[e._Bn([]),e.jDz],decls:21,vars:13,consts:[[2,"border","solid 1px"],["canv",""],[3,"multiple"],["step","1","min","0","max","500","type","range",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e._UZ(0,"canvas",0,1)(2,"app-image-uploder",2)(3,"br"),e._uU(4),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(s){return n.width=s}),e.qZA(),e._UZ(6,"br"),e._uU(7),e.TgZ(8,"input",3),e.NdJ("ngModelChange",function(s){return n.height=s}),e.qZA(),e._UZ(9,"br"),e._uU(10),e.TgZ(11,"input",3),e.NdJ("ngModelChange",function(s){return n.dx=s}),e.qZA(),e._UZ(12,"br"),e._uU(13),e.TgZ(14,"input",3),e.NdJ("ngModelChange",function(s){return n.dy=s}),e.qZA(),e._UZ(15,"br"),e._uU(16),e.TgZ(17,"input",3),e.NdJ("ngModelChange",function(s){return n.dw=s}),e.qZA(),e._UZ(18,"br"),e._uU(19),e.TgZ(20,"input",3),e.NdJ("ngModelChange",function(s){return n.dh=s}),e.qZA()),2&t&&(e.xp6(2),e.Q6J("multiple",!0),e.xp6(2),e.hij("width",n.width,"\n"),e.xp6(1),e.Q6J("ngModel",n.width),e.xp6(2),e.hij("height",n.height,"\n"),e.xp6(1),e.Q6J("ngModel",n.height),e.xp6(2),e.hij("dx",n.dx,"\n"),e.xp6(1),e.Q6J("ngModel",n.dx),e.xp6(2),e.hij("dy",n.dy,"\n"),e.xp6(1),e.Q6J("ngModel",n.dy),e.xp6(2),e.hij("dw",n.dw,"\n"),e.xp6(1),e.Q6J("ngModel",n.dw),e.xp6(2),e.hij("dh",n.dh,"\n"),e.xp6(1),e.Q6J("ngModel",n.dh))},dependencies:[c.Pc,C.ez,a.D,i.u5,i.Fj,i.eT,i.JJ,i.On],styles:["@media screen and (max-width: 660px){img[_ngcontent-%COMP%]{max-width:60%}ion-button[_ngcontent-%COMP%]{width:100%}}"]}),u})()}}]);